{"version":3,"file":"static/js/ItemFull.78433b43.chunk.js","mappings":"2NACA,EAAsB,sBAAtB,EAAsD,0BAAtD,EAAuF,uBAAvF,EAAsH,wBAAtH,EAAwJ,0BAAxJ,EAA0L,wBAA1L,EAA8N,4BAA9N,EAAmQ,yBAAnQ,EAAkS,sB,6BCuClS,EApC+B,WAAH,OAC1B,iCACE,UAAC,KAAa,CACZA,MAAO,EACPC,MAAO,IACPC,OAAQ,IACRC,QAAQ,cACRC,gBAAgB,UAChBC,gBAAgB,UAChBC,UAAWC,EAAW,WAEtB,mBAAQC,GAAG,MAAMC,GAAG,MAAMC,EAAE,SAC5B,iBAAMC,EAAE,MAAMC,EAAE,KAAKC,GAAG,KAAKC,GAAG,KAAKb,MAAM,MAAMC,OAAO,QACxD,iBAAMS,EAAE,MAAMC,EAAE,KAAKC,GAAG,KAAKC,GAAG,KAAKb,MAAM,MAAMC,OAAO,QACxD,iBAAMS,EAAE,MAAMC,EAAE,MAAMC,GAAG,KAAKC,GAAG,KAAKb,MAAM,MAAMC,OAAO,QACzD,iBAAMS,EAAE,MAAMC,EAAE,MAAMC,GAAG,KAAKC,GAAG,KAAKb,MAAM,MAAMC,OAAO,WAG3D,UAAC,KAAa,CACZF,MAAO,EACPC,MAAO,IACPC,OAAQ,IACRC,QAAQ,cACRC,gBAAgB,UAChBC,gBAAgB,UAChBC,UAAWC,EAAe,WAE1B,mBAAQC,GAAG,MAAMC,GAAG,MAAMC,EAAE,SAC5B,iBAAMC,EAAE,KAAKC,EAAE,MAAMC,GAAG,KAAKC,GAAG,KAAKb,MAAM,MAAMC,OAAO,QACxD,iBAAMS,EAAE,KAAKC,EAAE,MAAMC,GAAG,KAAKC,GAAG,KAAKb,MAAM,MAAMC,OAAO,QACxD,iBAAMS,EAAE,IAAIC,EAAE,MAAMC,GAAG,KAAKC,GAAG,KAAKb,MAAM,MAAMC,OAAO,QACvD,iBAAMS,EAAE,KAAKC,EAAE,MAAMC,GAAG,KAAKC,GAAG,KAAKb,MAAM,MAAMC,OAAO,YAEzD,E,8BC4IL,EAtK2B,WACzB,IAAQa,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,KACXC,GAAWC,EAAAA,EAAAA,MACjB,EAAwBC,EAAAA,WAA2B,eAA5CC,EAAI,KAAEC,EAAO,KACpB,GAAwCC,EAAAA,EAAAA,GAAeC,EAAAA,GAA/CC,EAAK,EAALA,MAAOC,EAAS,EAATA,UAAWC,EAAS,EAATA,UAC1B,EAAsCP,EAAAA,SAAuB,GAAE,eAAxDQ,EAAW,KAAEC,EAAc,KAClC,EAAsCT,EAAAA,SAAuB,GAAE,eAAxDU,EAAW,KAAEC,EAAc,KAClC,EAAsCX,EAAAA,SAAuB,GAAE,eAAxDY,EAAW,KAAEC,EAAc,KAClC,EAAoCb,EAAAA,SAAuB,IAAG,eAAzDc,EAAW,KAAEC,EAAc,KA2ChC,GAzCAf,EAAAA,WAAgB,WACU,aAUvB,OAVuB,0BAAxB,oHAE2BgB,EAAAA,EAAAA,IACrB,qDAAuDtB,GACvD,KAAD,WAFOuB,EAAI,EAAJA,KAGRf,EAAQe,GAAM,gDAEdC,QAAQC,IAAI,EAAD,IACXrB,EAAS,KAAK,0DAEjB,uBAXoB,WACG,wBAWxBsB,EACF,GAAG,CAAC1B,EAAII,IAERE,EAAAA,WAAgB,WACVC,IACFY,EAAeZ,EAAKoB,OAASpB,EAAKoB,MAAM,IACpCpB,EAAKqB,OACPX,EAAeV,EAAKqB,MAAM,IAGhC,GAAG,CAACrB,IAEJD,EAAAA,WAAgB,WACVC,IACEA,EAAKqB,MACPP,EACET,EAAUI,GACR,KACAE,EACA,KACAX,EAAKsB,QACLC,EAAAA,EAAAA,GAAE,SAGNT,EAAeR,EAAUC,GAAe,KAAOP,EAAKsB,QAASC,EAAAA,EAAAA,GAAE,SAGrE,GAAG,CAAChB,EAAaI,EAAaF,EAAaT,EAAMM,EAAWD,KAEvDL,EACH,OAAO,SAAC,EAAY,IAGtB,IAAMwB,EAAc,SAACC,GACnB,MAAM,GAAN,OAAUA,EAAG,aAAI,IAAIC,MAAOC,UAC9B,EAsCIC,EAAY,EAShB,OAPAxB,EAAMyB,KAAI,SAACC,GAIT,OAHIA,EAAErC,KAAOA,IACXmC,GAAaE,EAAEC,OAEVH,CACT,KAGE,iBAAK5C,UAAWC,EAAY,WAC1B,gBACED,UAAWC,EACX+C,IAAK,QAAUhC,EAAKiC,MACpBC,IAAKlC,EAAKmC,SAEZ,iBAAKnD,UAAWC,EAAe,WAC7B,eAAID,UAAWC,EAAa,SAAEe,EAAKmC,SACnC,uBAAItB,KACJ,iBAAK7B,UAAWC,EAAiB,UAC9Be,EAAKoC,QACJ,wBACGpC,EAAKoC,MAAMP,KAAI,SAACO,EAAON,GAAC,OACvB,eAEEO,QAAS,kBAAM7B,EAAesB,EAAE,EAChC9C,UAAWuB,IAAgBuB,EAAI7C,EAAgB,GAAG,SAEjDqB,EAAU8B,IAJNN,EAKF,MAIV9B,EAAKqB,QACJ,wBACGrB,EAAKqB,MAAMQ,KAAI,SAACS,EAAMR,GAAC,OACtB,eAEEO,QAAS,kBAAM3B,EAAe4B,EAAK,EACnCtD,UAAWyB,IAAgB6B,EAAOrD,EAAgB,GAAG,SAEpDoB,EAAUiC,IAJNR,EAKF,MAIV9B,EAAKoB,QACJ,wBACGpB,EAAKoB,MAAMS,KAAI,SAACU,EAAOC,GAAK,OAC3B,gBAEEH,QAAS,kBAAMzB,EAAe2B,EAAM,EACpCvD,UAAW2B,IAAgB4B,EAAQtD,EAAgB,GAAG,UAErDsD,EAAM,KAAEhB,EAAAA,EAAAA,GAAE,QAJNiB,EAKF,UAKb,0BACE,iBAAKxD,UAAWC,EAAYoD,QAjGjB,WACjBrC,EAAKoC,OACHzC,GACE8C,EAAAA,EAAAA,IAAQ,CACNhD,GAAIO,EAAKP,GACT0C,MAAOnC,EAAKmC,MACZF,MAAOjC,EAAKiC,MACZS,MAAO1C,EAAK0C,MACZN,MAAO7B,EACPe,OAAQtB,EAAKsB,OACbS,MAAO,EACPY,IAAKnB,EAAYxB,EAAKP,OAG5BO,EAAKoB,OACHzB,GACE8C,EAAAA,EAAAA,IAAQ,CACNhD,GAAIO,EAAKP,GACT0C,MAAOnC,EAAKmC,MACZF,MAAOjC,EAAKiC,MACZS,MAAO1C,EAAK0C,MACZJ,KAAM7B,EACNmC,KAAMjC,EACNW,OAAQtB,EAAKsB,OACbS,MAAO,EACPY,IAAKnB,EAAYxB,EAAKP,OAI5BI,EAAS,KACTF,GAASkD,EAAAA,EAAAA,GAAU7C,EAAKmC,MAAQ,KAAOtB,IACvCiC,YAAW,WACTnD,GAASoD,EAAAA,EAAAA,MACX,GAAG,IACL,EA+DwD,WAC7CxB,EAAAA,EAAAA,GAAE,gBAAgB,IAAEvB,EAAK0C,MAAM,cAM5C,C","sources":["webpack://react-shawa/./src/pages/ItemFull/ItemFull.module.scss?f99d","pages/ItemFull/SceletonItem.tsx","pages/ItemFull/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"svg\":\"ItemFull_svg__SInbG\",\"svg_mob\":\"ItemFull_svg_mob__bljbN\",\"item\":\"ItemFull_item__wl07p\",\"image\":\"ItemFull_image__TLaAs\",\"content\":\"ItemFull_content__OdNEb\",\"title\":\"ItemFull_title__oqRbv\",\"selectors\":\"ItemFull_selectors__G4QD5\",\"active\":\"ItemFull_active__lDK77\",\"btn\":\"ItemFull_btn__nW+iH\"};","import React from \"react\";\nimport ContentLoader from \"react-content-loader\";\nimport styles from \"./ItemFull.module.scss\";\n\nconst SceletonItem: React.FC = () => (\n  <>\n    <ContentLoader\n      speed={2}\n      width={540}\n      height={260}\n      viewBox=\"0 0 540 260\"\n      backgroundColor=\"#f3f3f3\"\n      foregroundColor=\"#ecebeb\"\n      className={styles.svg}\n    >\n      <circle cx=\"130\" cy=\"130\" r=\"130\" />\n      <rect x=\"288\" y=\"10\" rx=\"10\" ry=\"10\" width=\"231\" height=\"36\" />\n      <rect x=\"348\" y=\"89\" rx=\"10\" ry=\"10\" width=\"115\" height=\"27\" />\n      <rect x=\"275\" y=\"140\" rx=\"15\" ry=\"15\" width=\"253\" height=\"54\" />\n      <rect x=\"330\" y=\"203\" rx=\"20\" ry=\"20\" width=\"152\" height=\"38\" />\n    </ContentLoader>\n\n    <ContentLoader\n      speed={2}\n      width={260}\n      height={540}\n      viewBox=\"0 0 260 540\"\n      backgroundColor=\"#f3f3f3\"\n      foregroundColor=\"#ecebeb\"\n      className={styles.svg_mob}\n    >\n      <circle cx=\"130\" cy=\"137\" r=\"130\" />\n      <rect x=\"18\" y=\"296\" rx=\"10\" ry=\"10\" width=\"231\" height=\"36\" />\n      <rect x=\"78\" y=\"375\" rx=\"10\" ry=\"10\" width=\"115\" height=\"27\" />\n      <rect x=\"5\" y=\"426\" rx=\"15\" ry=\"15\" width=\"253\" height=\"54\" />\n      <rect x=\"60\" y=\"489\" rx=\"20\" ry=\"20\" width=\"152\" height=\"38\" />\n    </ContentLoader>\n  </>\n);\n\nexport default SceletonItem;\n","import React from \"react\";\nimport axios from \"axios\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport styles from \"./ItemFull.module.scss\";\nimport { addItem, hidePopup, showPopup } from \"../../redux/cart/slice\";\nimport SceletonItem from \"./SceletonItem\";\nimport { ItemProps } from \"../../components\";\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\nimport { selectCart } from \"../../redux/cart/selectors\";\nimport { t } from \"i18next\";\n\nconst ItemFull: React.FC = () => {\n  const { id } = useParams();\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const [item, setItem] = React.useState<ItemProps>();\n  const { items, typesName, spicyName } = useAppSelector(selectCart);\n  const [activeSpicy, activeSpicySet] = React.useState<number>(0);\n  const [activeTypes, activeTypesSet] = React.useState<number>(0);\n  const [activeSizes, activeSizesSet] = React.useState<number>(0);\n  let [description, setDescription] = React.useState<string>(\"\");\n\n  React.useEffect(() => {\n    async function fetchItem() {\n      try {\n        const { data } = await axios.get(\n          \"https://63c9588d904f040a965c1451.mockapi.io/items/\" + id\n        );\n        setItem(data);\n      } catch (error) {\n        console.log(error);\n        navigate(\"/\");\n      }\n    }\n    fetchItem();\n  }, [id, navigate]);\n\n  React.useEffect(() => {\n    if (item) {\n      activeSizesSet(item.sizes && item.sizes[0]);\n      if (item.types) {\n        activeTypesSet(item.types[0]);\n      }\n    }\n  }, [item]);\n\n  React.useEffect(() => {\n    if (item) {\n      if (item.types) {\n        setDescription(\n          typesName[activeTypes] +\n            \", \" +\n            activeSizes +\n            \", \" +\n            item.weight +\n            t(\"gram\")\n        );\n      } else {\n        setDescription(spicyName[activeSpicy] + \", \" + item.weight + t(\"gram\"));\n      }\n    }\n  }, [activeSpicy, activeSizes, activeTypes, item, spicyName, typesName]);\n\n  if (!item) {\n    return <SceletonItem />;\n  }\n\n  const generateKey = (pre: string) => {\n    return `${pre}_${new Date().getTime()}`;\n  };\n\n  const onClickAdd = () => {\n    item.spicy &&\n      dispatch(\n        addItem({\n          id: item.id,\n          title: item.title,\n          image: item.image,\n          price: item.price,\n          spicy: activeSpicy,\n          weight: item.weight,\n          count: 1,\n          key: generateKey(item.id),\n        })\n      );\n    item.sizes &&\n      dispatch(\n        addItem({\n          id: item.id,\n          title: item.title,\n          image: item.image,\n          price: item.price,\n          type: activeTypes,\n          size: activeSizes,\n          weight: item.weight,\n          count: 1,\n          key: generateKey(item.id),\n        })\n      );\n\n    navigate(\"/\");\n    dispatch(showPopup(item.title + \", \" + description));\n    setTimeout(() => {\n      dispatch(hidePopup());\n    }, 2000);\n  };\n\n  let countItem = 0;\n\n  items.map((i: { id: string; count: number }) => {\n    if (i.id === id) {\n      countItem += i.count;\n    }\n    return countItem;\n  });\n\n  return (\n    <div className={styles.item}>\n      <img\n        className={styles.image}\n        src={\"/img/\" + item.image}\n        alt={item.title}\n      />\n      <div className={styles.content}>\n        <h4 className={styles.title}>{item.title}</h4>\n        <p>{description}</p>\n        <div className={styles.selectors}>\n          {item.spicy && (\n            <ul>\n              {item.spicy.map((spicy, i) => (\n                <li\n                  key={i}\n                  onClick={() => activeSpicySet(i)}\n                  className={activeSpicy === i ? styles.active : \"\"}\n                >\n                  {spicyName[spicy]}\n                </li>\n              ))}\n            </ul>\n          )}\n          {item.types && (\n            <ul>\n              {item.types.map((type, i) => (\n                <li\n                  key={i}\n                  onClick={() => activeTypesSet(type)}\n                  className={activeTypes === type ? styles.active : \"\"}\n                >\n                  {typesName[type]}\n                </li>\n              ))}\n            </ul>\n          )}\n          {item.sizes && (\n            <ul>\n              {item.sizes.map((value, index) => (\n                <li\n                  key={index}\n                  onClick={() => activeSizesSet(value)}\n                  className={activeSizes === value ? styles.active : \"\"}\n                >\n                  {value} {t(\"cm\")}\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n        <div>\n          <div className={styles.btn} onClick={onClickAdd}>\n            {t(\"add_ItemFull\")} {item.price}$\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ItemFull;\n"],"names":["speed","width","height","viewBox","backgroundColor","foregroundColor","className","styles","cx","cy","r","x","y","rx","ry","id","useParams","dispatch","useAppDispatch","navigate","useNavigate","React","item","setItem","useAppSelector","selectCart","items","typesName","spicyName","activeSpicy","activeSpicySet","activeTypes","activeTypesSet","activeSizes","activeSizesSet","description","setDescription","axios","data","console","log","fetchItem","sizes","types","weight","t","generateKey","pre","Date","getTime","countItem","map","i","count","src","image","alt","title","spicy","onClick","type","value","index","addItem","price","key","size","showPopup","setTimeout","hidePopup"],"sourceRoot":""}